<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UK War Room - v5</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
  <div id="login-screen">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Username" />
    <input type="password" id="password" placeholder="Password" />
    <button onclick="validateLogin()">Enter</button>
    <p id="login-error"></p>
  </div>

  <div id="main-app" class="hidden">
    <div id="clock-ticker-bar"></div>

    <nav>
      <ul>
        <li onclick="showPage('dashboard')">Dashboard</li>
        <li onclick="showPage('intel')">Intel</li>
        <li onclick="showPage('news')">News</li>
        <li onclick="showPage('watchlist')">Watchlist</li>
        <li onclick="showPage('simulator')">Simulator</li>
      </ul>
    </nav>

    <section id="dashboard" class="page">
      <h1>Global War Risk Dashboard</h1>

      <label class="switch">
        <input type="checkbox" id="siren-toggle" onchange="toggleSiren()" />
        <span class="slider"></span> Siren
      </label>

      <audio id="siren-audio" src="siren.mp3" preload="auto"></audio>
      <div id="siren-light" class="hidden"></div>

      <button class="collapsible">📈 Risk Level Chart</button>
      <div class="content"><canvas id="riskChart"></canvas></div>

      <button class="collapsible">🗺️ Global Map</button>
      <div class="content"><div id="map-container"></div></div>

      <button class="collapsible">📰 News Ticker</button>
      <div class="content"><div id="news-ticker"><marquee id="ticker-text"></marquee></div></div>

      <button class="collapsible">📋 Watchlist</button>
      <div class="content">
        <ul id="watchlist-feed">
          <li><strong>[22:45]</strong> Missile exchange reported</li>
        </ul>
      </div>
    </section>

    <section id="intel" class="page hidden">
      <h2>Intelligence Briefing</h2>
      <button onclick="generateBriefing()">Generate Briefing PDF</button>
      <p>Top war/political updates, military rankings, and global summaries will go here.</p>
    </section>

    <section id="news" class="page hidden">
      <div id="news-ticker"><marquee id="ticker-text"></marquee></div>
    </section>

    <section id="watchlist" class="page hidden">
      <h2>Live Watchlist</h2>
      <ul id="watchlist-feed">
        <li><strong>[22:45]</strong> Alert in Eastern Europe</li>
      </ul>
    </section>

    <section id="simulator" class="page hidden">
      <h2>AI-Powered War Simulator</h2>
      <textarea id="warScenario" placeholder="Describe a global event or military flashpoint..."></textarea>
      <button onclick="simulateWar()">Simulate</button>
      <div id="simulationResult"></div>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>
